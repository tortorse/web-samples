/**
 * @file This library uses [resvg](https://github.com/RazrFalcon/resvg), which is licensed unser MPL-2.0. The source code for resvg can be found [here](https://github.com/RazrFalcon/resvg).
 */
var svg2pngWasm=(()=>{var E=Object.defineProperty;var q=Object.getOwnPropertyDescriptor;var B=Object.getOwnPropertyNames;var D=Object.prototype.hasOwnProperty;var N=e=>E(e,"__esModule",{value:!0});var V=(e,n)=>{for(var t in n)E(e,t,{get:n[t],enumerable:!0})},H=(e,n,t,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of B(n))!D.call(e,r)&&(t||r!=="default")&&E(e,r,{get:()=>n[r],enumerable:!(i=q(n,r))||i.enumerable});return e};var J=(e=>(n,t)=>e&&e.get(n)||(t=H(N({}),n,1),e&&e.set(n,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var te={};V(te,{createSvg2png:()=>P,initialize:()=>ee,svg2png:()=>ne});var o,k=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});k.decode();var p=null;function g(){return(p===null||p.buffer!==o.memory.buffer)&&(p=new Uint8Array(o.memory.buffer)),p}function S(e,n){return k.decode(g().subarray(e,e+n))}var u=new Array(32).fill(void 0);u.push(void 0,null,!0,!1);var m=u.length;function T(e){m===u.length&&u.push(u.length+1);let n=m;return m=u[n],u[n]=e,n}function z(e){return u[e]}function $(e){e<36||(u[e]=m,m=e)}function U(e){let n=z(e);return $(e),n}var l=0;function G(e,n){let t=n(e.length*1);return g().set(e,t/1),l=e.length,t}var v=new TextEncoder("utf-8"),K=typeof v.encodeInto=="function"?function(e,n){return v.encodeInto(e,n)}:function(e,n){let t=v.encode(e);return n.set(t),{read:e.length,written:t.length}};function d(e,n,t){if(t===void 0){let s=v.encode(e),f=n(s.length);return g().subarray(f,f+s.length).set(s),l=s.length,f}let i=e.length,r=n(i),c=g(),a=0;for(;a<i;a++){let s=e.charCodeAt(a);if(s>127)break;c[r+a]=s}if(a!==i){a!==0&&(e=e.slice(a)),r=t(r,i,i=a+e.length*3);let s=g().subarray(r+a,r+i);a+=K(e,s).written}return l=a,r}function _(e){return e==null}var h=null;function w(){return(h===null||h.buffer!==o.memory.buffer)&&(h=new Int32Array(o.memory.buffer)),h}function Q(e,n){return g().subarray(e/1,e/1+n)}var F=null;function X(){return(F===null||F.buffer!==o.memory.buffer)&&(F=new Uint32Array(o.memory.buffer)),F}function Y(e,n){let i=X().subarray(e/4,e/4+n),r=[];for(let c=0;c<i.length;c++)r.push(U(i[c]));return r}function R(e,n,t,i,r){var c=_(e)?0:d(e,o.__wbindgen_malloc,o.__wbindgen_realloc),a=l,s=_(n)?0:d(n,o.__wbindgen_malloc,o.__wbindgen_realloc),f=l,y=_(t)?0:d(t,o.__wbindgen_malloc,o.__wbindgen_realloc),C=l,O=_(i)?0:d(i,o.__wbindgen_malloc,o.__wbindgen_realloc),W=l,b=_(r)?0:d(r,o.__wbindgen_malloc,o.__wbindgen_realloc),I=l;let x=o.createConverter(c,a,s,f,y,C,O,W,b,I);return A.__wrap(x)}var A=class{static __wrap(n){let t=Object.create(A.prototype);return t.ptr=n,t}__destroy_into_raw(){let n=this.ptr;return this.ptr=0,n}free(){let n=this.__destroy_into_raw();o.__wbg_converter_free(n)}registerFont(n){let t=G(n,o.__wbindgen_malloc),i=l;o.converter_registerFont(this.ptr,t,i)}convert(n,t,i,r,c){try{let b=o.__wbindgen_add_to_stack_pointer(-16),I=d(n,o.__wbindgen_malloc,o.__wbindgen_realloc),x=l;var a=_(c)?0:d(c,o.__wbindgen_malloc,o.__wbindgen_realloc),s=l;o.converter_convert(b,this.ptr,I,x,!_(t),_(t)?0:t,!_(i),_(i)?0:i,!_(r),_(r)?0:r,a,s);var f=w()[b/4+0],y=w()[b/4+1],C=w()[b/4+2],O=w()[b/4+3];if(O)throw U(C);var W=Q(f,y).slice();return o.__wbindgen_free(f,y*1),W}finally{o.__wbindgen_add_to_stack_pointer(16)}}list_fonts(){try{let r=o.__wbindgen_add_to_stack_pointer(-16);o.converter_list_fonts(r,this.ptr);var n=w()[r/4+0],t=w()[r/4+1],i=Y(n,t).slice();return o.__wbindgen_free(n,t*4),i}finally{o.__wbindgen_add_to_stack_pointer(16)}}};async function Z(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function j(e){typeof e=="undefined"&&(e=new URL("svg2png_wasm_bg.wasm",void 0));let n={};n.wbg={},n.wbg.__wbindgen_string_new=function(r,c){let a=S(r,c);return T(a)},n.wbg.__wbg_new_693216e109162396=function(){let r=new Error;return T(r)},n.wbg.__wbg_stack_0ddaca5d1abfb52f=function(r,c){let a=z(c).stack,s=d(a,o.__wbindgen_malloc,o.__wbindgen_realloc),f=l;w()[r/4+1]=f,w()[r/4+0]=s},n.wbg.__wbg_error_09919627ac0992f5=function(r,c){try{console.error(S(r,c))}finally{o.__wbindgen_free(r,c)}},n.wbg.__wbindgen_object_drop_ref=function(r){U(r)},n.wbg.__wbindgen_throw=function(r,c){throw new Error(S(r,c))},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:t,module:i}=await Z(await e,n);return o=t.exports,j.__wbindgen_wasm_module=i,o.__wbindgen_start(),o}var L=j;var M=!1,ee=async e=>{if(M)throw new Error("Already initialized. The `initialize` function can be used only once.");await L(await e),M=!0},P=e=>{if(!M)throw new Error("WASM has not been initialized. Call `initialize` function.");let n;n=R(e?.defaultFontFamily?.serifFamily,e?.defaultFontFamily?.sansSerifFamily,e?.defaultFontFamily?.cursiveFamily,e?.defaultFontFamily?.fantasyFamily,e?.defaultFontFamily?.monospaceFamily);for(let i of e?.fonts??[])n.registerFont(i);let t=(i,r)=>new Promise((c,a)=>{try{let s=n?.convert(i,r?.scale,r?.width,r?.height,r?.backgroundColor);if(s)c(s);else throw new Error("Converter already disposed.")}catch(s){s instanceof Error?a(s):a(new Error(`${s}`))}});return t.dispose=()=>{n?.free(),n=void 0},t.getLoadedFontFamilies=()=>n?.list_fonts()??[],t},ne=(e,n)=>{let t=P(n);return t(e,n).finally(()=>t.dispose())};return J(te);})();
